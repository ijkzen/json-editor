<div mat-dialog-title class="flex items-center gap-2">
    <mat-icon class="text-slate-600 dark:text-slate-300">tune</mat-icon>
    <div class="min-w-0 flex-1">
        <div class="font-semibold leading-6">{{ t('settings.title') }}</div>
        <div class="text-xs text-slate-500 dark:text-slate-400">{{ t('settings.subtitle') }}</div>
    </div>
</div>

<mat-divider />

<div mat-dialog-content class="min-w-[min(600px,92vw)] py-4">
    <div class="mb-3 rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900 px-3 py-2">
        <mat-slide-toggle class="w-full" [checked]="themeSettings.darkMode()"
            (change)="themeSettings.darkMode.set($event.checked)">
            <span class="font-medium">{{ t('settings.darkMode') }}</span>
            <span class="block text-xs text-slate-500 dark:text-slate-400">{{ t('settings.darkModeHint') }}</span>
        </mat-slide-toggle>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
        <div class="rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900 px-3 py-2">
            <mat-slide-toggle class="w-full" [checked]="settings.phone()" (change)="settings.phone.set($event.checked)">
                <span class="font-medium">{{ t('settings.phone') }}</span>
                <span class="block text-xs text-slate-500 dark:text-slate-400">{{ t('settings.phoneHint') }}</span>
            </mat-slide-toggle>
        </div>

        <div class="rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900 px-3 py-2">
            <mat-slide-toggle class="w-full" [checked]="settings.time()" (change)="settings.time.set($event.checked)">
                <span class="font-medium">{{ t('settings.time') }}</span>
                <span class="block text-xs text-slate-500 dark:text-slate-400">{{ t('settings.timeHint') }}</span>
            </mat-slide-toggle>

            @if (settings.time()) {
            <div class="mt-2 flex items-center justify-between gap-3">
                <div class="text-xs text-slate-500 dark:text-slate-400">{{ t('settings.timeShowFormatted') }}</div>
                <mat-slide-toggle [checked]="settings.timeShowFormatted()"
                    (change)="settings.timeShowFormatted.set($event.checked)"
                    [attr.aria-label]="t('settings.timeShowFormatted')" />
            </div>
            }
        </div>

        <div class="rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900 px-3 py-2">
            <mat-slide-toggle class="w-full" [checked]="settings.email()" (change)="settings.email.set($event.checked)">
                <span class="font-medium">{{ t('settings.email') }}</span>
                <span class="block text-xs text-slate-500 dark:text-slate-400">{{ t('settings.emailHint') }}</span>
            </mat-slide-toggle>
        </div>

        <div class="rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900 px-3 py-2">
            <mat-slide-toggle class="w-full" [checked]="settings.link()" (change)="settings.link.set($event.checked)">
                <span class="font-medium">{{ t('settings.link') }}</span>
                <span class="block text-xs text-slate-500 dark:text-slate-400">{{ t('settings.linkHint') }}</span>
            </mat-slide-toggle>
        </div>

        <div class="rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900 px-3 py-2">
            <mat-slide-toggle class="w-full" [checked]="settings.image()" (change)="settings.image.set($event.checked)">
                <span class="font-medium">{{ t('settings.image') }}</span>
                <span class="block text-xs text-slate-500 dark:text-slate-400">{{ t('settings.imageHint') }}</span>
            </mat-slide-toggle>
        </div>

        <div
            class="rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-900 px-3 py-2 sm:col-span-2">
            <mat-slide-toggle class="w-full" [checked]="settings.color()" (change)="settings.color.set($event.checked)">
                <span class="font-medium">{{ t('settings.color') }}</span>
                <span class="block text-xs text-slate-500 dark:text-slate-400">{{ t('settings.colorHint') }}</span>
            </mat-slide-toggle>

            @if (settings.color()) {
            <div class="mt-2 flex items-center gap-3 whitespace-nowrap overflow-x-auto">
                <div class="text-xs text-slate-500 dark:text-slate-400 shrink-0 leading-8">{{ t('settings.colorFormat')
                    }}</div>
                <mat-button-toggle-group class="settings-color-format !h-8 shrink-0" [value]="settings.colorFormat()"
                    (change)="settings.colorFormat.set($event.value)" [attr.aria-label]="t('settings.colorFormat')">
                    <mat-button-toggle value="rgba" class="!text-xs">RGBA</mat-button-toggle>
                    <mat-button-toggle value="argb" class="!text-xs">ARGB</mat-button-toggle>
                </mat-button-toggle-group>
            </div>
            }
        </div>
    </div>

    <div class="mt-3 text-xs text-slate-400 dark:text-slate-500">
        {{ t('settings.note') }}
    </div>
</div>

<div mat-dialog-actions align="end" class="px-6 pb-4">
    <button mat-stroked-button type="button" mat-dialog-close>{{ t('settings.done') }}</button>
</div>